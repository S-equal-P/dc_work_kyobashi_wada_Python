

# 名前から性別判断アプリ

## 概要

このアプリケーションは、入力された日本の名前（ひらがな）から性別を確率的に判定するGUIツールです。  
Pythonと機械学習（ロジスティック回帰）を用いて構築されており、ユーザーは直感的な操作で判定結果を得ることができます。

---

## 主な機能

- 名前の入力による性別判定（男性・女性の確率を出力）
- GUIによるシンプルで直感的な操作
- 入力バリデーション（ひらがな以外には警告表示）

---

## 使用方法

### ライブラリのインストール

```bash
pip install -r requirements.txt
```

### アプリケーションの起動

```bash
python 名前から性別判断_GUI.py
```

---

## GUIの操作方法

![MainWindow](https://github.com/user-attachments/assets/91e99106-c0f2-4939-8df9-67d74837db8e)

1. テキストボックスに分析したい名前（ひらがな）を入力  
2. 「分析開始」ボタンをクリック  
3. 判定結果が下部に「男性：○○％、女性：○○％」の形式で表示されます

※ ひらがな以外を入力した場合は警告が表示されます。

---

## 性別を予測する仕組み

このアプリでは、名前（ひらがな）から性別を確率的に推定するモデルを使用しています。  
アルゴリズムには、`scikit-learn` のロジスティック回帰（Logistic Regression）を採用しています。

### 処理の流れ

1. **n-gram分割**  
   名前を1～3文字単位のn-gramに分割  
   例：「さくら」→「さ」「く」「ら」「さく」「くら」「さくら」

2. **ベクトル化**  
   `CountVectorizer` によってn-gramの出現パターンを数値ベクトルに変換

3. **モデル学習**  
   `名前から性別判断_学習.py` にて、`名前一覧.xlsx` を用いてロジスティック回帰モデルを学習します。

   `名前一覧.xlsx`の一例：

   | 名前   | 性別 |
   |--------|------|
   | たろう | 男   |
   | ひかる | 男   |
   | はなこ | 女   |
   | ひかる | 女   |

   ※「ひかる」のように、同じ名前がどちらの性別にも使われている場合があります。

4. **確率予測**  
   `名前から性別判断_GUI.py` にて、学習済みモデルを用いて判定を行います。  
   `predict_proba()` により、性別ごとの確率が以下のように出力されます。

   例：  
   ・「たろう」 → 男性 98.59% / 女性 1.41%  
   ・「はなこ」 → 男性 0.78% / 女性 99.22%  
   ・「ひかる」 → 男性 47.98% / 女性 52.02%

   この確率は、「この名前が学習データにおいてどの性別と関連していたか」に基づいて推定されたものです。  
   そのため、必ずしも現実の性別と一致するとは限りません。

---

## モデル評価

使用しているモデルは、男性:2554件(全体の約59％)、女性:1773件(全体の約41％)の名前データを用いて構築されています。  
学習には scikit-learn のロジスティック回帰を使用し、5分割交差検証を実施しました。  
その結果、平均精度は80.79％でした。

※ この精度は学習データに基づいたものであり、実際の利用時には入力名や文脈によって精度が変動する場合があります。

---

## ファイル構成

- `名前から性別判断_GUI.py`：GUI本体
- `gui.ui`, `gui.py`：Qt DesignerベースのGUIレイアウト
- `名前から性別判断_学習.py`：モデル学習スクリプト
- `名前一覧.xlsx`：ひらがな名前と性別ラベルの表
- `gender_model.pkl`：学習済みロジスティック回帰モデル
- `vectorizer.pkl`：CountVectorizerによるベクトル変換器
- `requirements.txt`：必要ライブラリ一覧

---

## ライセンス

このプロジェクトは MITライセンス のもとで公開されています。

## 開発環境

- Python 3.10.13
- scikit-learn 1.4.x
- PyQt5 5.15.x
- OS：Windows 11

---

## 今後の展望

- カタカナ・漢字入力への対応
- モデルの継続的なアップデートによる精度向上
- Webアプリケーション版（FlaskまたはFastAPI）の開発
- 学習データ拡張による中性的な名前への精度改善
